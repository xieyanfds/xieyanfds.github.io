<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-type"content="text-html;charset="UTF-8"/>
	<title>黑客帝国特效</title>
	<style type="text/css">
		*{margin:0;padding:0;}
		body{font-size:12px;font-family:"微软雅黑";color:#666;}
		/*#canvas{width:100%;height:100%;background:red;}*/
	</style>
	</head>
<body>
	<canvas id="canvas"></canvas>
	<embed src="./2.mp3" />
	<audio id="music" controls="controls" autoplay="autoplay" preload="load">
	  <source src="./2.mp3" type="audio/mpeg" />
		Your browser does not support the audio element.
	</audio>
	<script type="text/javascript">
		var s = window.screen;
		var winW = s.width;
		var winH = s.height;
		//alert("winW="+winW+"   "+"winH="+winH);
		var canvas = document.getElementById("canvas");
		canvas.width = winW;
		canvas.height = winH;
		//alert(canvas.width+"=="+canvas.height);
		var cxt=canvas.getContext("2d");
		var fontSize = 14;
		var cols = Math.floor(winW/fontSize);
		var str="感觉自己萌萌哒！！";
		var drop=[];
		for(var i = 0;i<cols;i++){
			drop.push(Math.random()*-200);
		}
		function draw(){
			cxt.fillStyle = "rgba(0,0,0,0.1)";
			cxt.fillRect(0,0,winW,winH);
			cxt.fillStyle = randColor();
			cxt.font = "700 "+fontSize+"px 微软雅黑";
			for(var i = 0;i<cols;i++){
				var index = Math.floor(Math.random()*str.length);
				var x = i*fontSize;
				var y = drop[i]*fontSize;
				cxt.fillText(str[index],x,y);
				if(y>canvas.height && Math.random()>0.9){
					drop[i] = 0;
				}	
				drop[i]++;

			}
		}
		function randColor(){
			var r = Math.floor(Math.random()*256);
			var g = Math.floor(Math.random()*256);
			var b = Math.floor(Math.random()*256);
			return "rgb("+r+","+g+","+b+")";
		}
		setInterval(draw,33);
	</script>
</body>
</html>
